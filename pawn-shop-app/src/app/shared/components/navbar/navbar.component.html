<!-- components/layout/navbar/navbar.component.html -->
<nav class="navbar">
  <div class="navbar-content">
    <!-- Left Section -->
    <div class="navbar-left">
      <button 
        class="sidebar-toggle-btn"
        (click)="onSidebarToggle()"
        aria-label="Toggle sidebar">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
      
      <div class="brand">
        <svg class="brand-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="9" cy="9" r="2"></circle>
          <path d="m21 15-3.086-3.086a2 2 0 0 0-1.414-.586H14l-2.5-2.5A2 2 0 0 0 10.086 8H7"></path>
        </svg>
        <span class="brand-text">PawnShop MS</span>
      </div>
    </div>

    <!-- Center Section - Search -->
    <div class="navbar-center">
      <div class="search-container">
        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input 
          type="text" 
          class="search-input"
          placeholder="Search vouchers, customers..."
          #searchInput
          (keyup.enter)="onSearch(searchInput.value)">
      </div>
    </div>

    <!-- Right Section -->
    <div class="navbar-right">
      <!-- Notifications -->
      <div class="nav-item-wrapper">
        <button 
          class="nav-icon-btn" 
          title="Notifications"
          (click)="toggleNotifications()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="notification-badge">3</span>
        </button>

        <!-- Notifications Dropdown -->
        <div class="dropdown-menu notifications-dropdown" [class.show]="showNotifications">
          <div class="dropdown-header">
            <h3>Notifications</h3>
            <span class="badge">3</span>
          </div>
          <div class="dropdown-content">
            <div class="notification-item">
              <div class="notification-icon overdue">‚ö†Ô∏è</div>
              <div class="notification-content">
                <p class="notification-title">Overdue Items</p>
                <p class="notification-desc">5 items are overdue</p>
                <span class="notification-time">2 hours ago</span>
              </div>
            </div>
            <div class="notification-item">
              <div class="notification-icon success">‚úÖ</div>
              <div class="notification-content">
                <p class="notification-title">Item Redeemed</p>
                <p class="notification-desc">PWN240115A001 was redeemed</p>
                <span class="notification-time">1 day ago</span>
              </div>
            </div>
            <div class="notification-item">
              <div class="notification-icon info">üì±</div>
              <div class="notification-content">
                <p class="notification-title">New Pawn Created</p>
                <p class="notification-desc">Samsung Galaxy S23 - 800,000 MMK</p>
                <span class="notification-time">2 days ago</span>
              </div>
            </div>
          </div>
          <div class="dropdown-footer">
            <a href="#" class="view-all-link">View All Notifications</a>
          </div>
        </div>
      </div>

      <!-- Settings -->
      <button class="nav-icon-btn" title="Settings" (click)="onSettings()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
        </svg>
      </button>

      <!-- User Menu -->
      <div class="nav-item-wrapper">
        <button 
          class="user-button"
          (click)="toggleUserMenu()">
          <img 
            [src]="user?.avatar || '/assets/images/default-avatar.png'" 
            [alt]="user?.username || 'User'"
            class="user-avatar"
            onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiPjxwYXRoIGQ9Im0yMCAxNi0yLTJtMi0yTDEyIDRsLTggOGMtMS4xIDEuMS0xLjEgMi45IDAgNGwuIDAtLjQgMS40IDEuNGwtLjQuNGMxLjEgMS4xIDIuOSAxLjEgNCAwbDgtOHoiLz48L3N2Zz4='">
          <span class="user-name">{{user?.username || 'Admin'}}</span>
          <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <polyline points="6,9 12,15 18,9"></polyline>
          </svg>
        </button>

        <!-- User Dropdown -->
        <div class="dropdown-menu user-dropdown" [class.show]="showUserMenu">
          <div class="dropdown-header">
            <img 
              [src]="user?.avatar || '/assets/images/default-avatar.png'" 
              [alt]="user?.username || 'User'"
              class="dropdown-avatar">
            <div class="user-info">
              <p class="user-display-name">{{user?.username || 'Admin User'}}</p>
              <p class="user-role">{{user?.role || 'ADMIN'}}</p>
            </div>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-content">
            <button class="dropdown-item" (click)="onProfile()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Profile
            </button>
            <button class="dropdown-item" (click)="onSettings()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
              </svg>
              Settings
            </button>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-content">
            <button class="dropdown-item logout" (click)="onLogout()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16,17 21,12 16,7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>